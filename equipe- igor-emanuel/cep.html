<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8">
</head>
<script type="text/javascript">
    function getDados(dados) {
        document.getElementById('rua').value = (dados.logradouro);
        document.getElementById('bairro').value = (dados.bairro);
        document.getElementById('cidade').value = (dados.localidade);
        document.getElementById('estado').value = (dados.estado);
        document.getElementById('cidade').value = (dados.cidade);
    }
    function checkCode(code) {
        var api = "http://api.postmon.com.br/v1/cep/";
        var url = api.concat(code);
        var script = document.createElement('script');
        //insertReply("igor");
        script.src = 'http://api.postmon.com.br/v1/cep/' + code + '?callback=getDados';
        document.body.appendChild(script);
    }
</script>
<body>
    <form method="get" action="">
        <label>CEP:</label>
        <br />
        <input name="cep" type="text" id="cep" value="" required pattern="\d{5}-\d{3}" size="10" onblur="checkCode(this.value);" />
        <br />
        <label>Rua:</label>
        <br />
        <input name="rua" type="text" id="rua" size="40" />
        <br />
        <label>Bairro:</label>
        <input name="bairro" type="text" id="bairro" size="20" />
        <br />
        <label>Estado:</label>
        <input name="estado" type="text" id="estado" size="8" />
        <br />
        <label>Cidade:</label>
        <input name="cidade" type="text" id="cidade" size="20" />
        <button type="submit">Buscar CEP</button>
    </form>
</body>

</html>
